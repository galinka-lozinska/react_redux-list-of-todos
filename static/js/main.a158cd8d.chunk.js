(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{26:function(e,t,n){e.exports=n(42)},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(12),o=n.n(c),u=n(3),l=n(25),i=n(17),s=n(6),d=n(24),E=n(2),m={pending:!1,todos:[],error:null,selectedTodoId:0,filteringType:"All_TODOS",query:""};var O={pending:!1,user:{id:0,name:"",phone:"",email:""},selectedUserId:0,error:null};var f=Object(s.combineReducers)({todosState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_TODOS_PENDING":return Object(E.a)(Object(E.a)({},e),{},{pending:!0});case"FETCH_TODOS_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{pending:!1,todos:t.todos});case"FETCH_TODOS_ERROR":return Object(E.a)(Object(E.a)({},e),{},{pending:!1,error:t.error});case"REMOVE_SELECTED_TODO":return Object(E.a)(Object(E.a)({},e),{},{todos:e.todos.map((function(e){return e.id===t.todo.id?Object(E.a)({},t.todo):e}))});case"All_TODOS":case"ACTIVE_TODOS":case"COMPLETED_TODOS":return Object(E.a)(Object(E.a)({},e),{},{filteringType:t.type});case"FILTERING":return Object(E.a)(Object(E.a)({},e),{},{query:t.query});default:return e}},userState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER_PENDING":return Object(E.a)(Object(E.a)({},e),{},{pending:!0});case"FETCH_USER_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{pending:!1,user:t.user});case"FETCH_USER_ERROR":return Object(E.a)(Object(E.a)({},e),{},{pending:!1,error:t.error});case"SELECTED_USER":return Object(E.a)(Object(E.a)({},e),{},{selectedUserId:t.userId});case"CLEAR_SELECTED_USER":return Object(E.a)(Object(E.a)({},e),{},{selectedUserId:0});default:return e}}}),p=function(e){return function(e){return e.pending}(e.todosState)},b=function(e){return function(e){return e.error}(e.todosState)},_=function(e){return function(e){return e.filteringType}(e.todosState)},T=function(e){return function(e){return e.selectedUserId}(e.userState)},S=function(e){return function(e){return e.pending}(e.userState)},C=function(e){return function(e){return e.user}(e.userState)},j=function(e){return function(e){return e.error}(e.userState)},v=Object(s.createStore)(f,Object(d.composeWithDevTools)(Object(s.applyMiddleware)(i.a))),h=(n(35),n(10)),y=n(11);function g(e){var t=e.query.toLowerCase(),n=Object(y.a)(e.todos);switch(e.filteringType){case"ACTIVE_TODOS":n=e.todos.filter((function(e){return!e.completed}));break;case"COMPLETED_TODOS":n=e.todos.filter((function(e){return e.completed}))}return e.query?n.filter((function(e){return e.title&&e.title.toLowerCase().includes(t)})):n}var N=n(15),D=n.n(N),L=(n(36),function(e){var t=e.todosList,n=e.setTodosList,c=Object(u.c)(),o=Object(u.d)(_),l=Object(r.useCallback)((function(){var e=Object(y.a)(t).sort((function(e,t){return e.title.localeCompare(t.title)}));n(e)}),[t,n]),i=Object(r.useCallback)((function(){for(var e=Object(y.a)(t),r=e.length-1;r>0;r-=1){var a=Math.floor(Math.random()*r),c=e[r];e[r]=e[a],e[a]=c}n(e)}),[t,n]);return a.a.createElement("div",{className:"nav-menu"},a.a.createElement("input",{type:"text",placeholder:"Tittle....",onChange:function(e){c({type:"FILTERING",query:e.target.value})}}),a.a.createElement("div",null,a.a.createElement("ul",{className:"filters"},a.a.createElement("li",null,a.a.createElement("a",{href:"#/all",className:D()({selected:"All_TODOS"===o}),onClick:function(){c({type:"All_TODOS"})}},"All")),a.a.createElement("li",null,a.a.createElement("a",{href:"#/active",className:D()({selected:"ACTIVE_TODOS"===o}),onClick:function(){c({type:"ACTIVE_TODOS"})}},"Active")),a.a.createElement("li",null,a.a.createElement("a",{href:"#/completed",className:D()({selected:"COMPLETED_TODOS"===o}),onClick:function(){c({type:"COMPLETED_TODOS"})}},"Completed"))),a.a.createElement("button",{type:"button",className:"clear-completed",onClick:function(){return c({type:"CLEAR_SELECTED_USER"})}},"Clear selected"),a.a.createElement("button",{type:"button",className:"randomize",onClick:function(){i()}},"Randomize"),a.a.createElement("button",{type:"button",className:"sort",onClick:function(){return l()}},"Sort")))}),R=(n(37),function(e){var t=e.todo,n=e.setTodoId,c=e.setUpdateList,o=Object(r.useState)(t),l=Object(h.a)(o,2),i=l[0],s=l[1],d=Object(u.c)();return a.a.createElement(a.a.Fragment,null,a.a.createElement("label",{htmlFor:"title"},a.a.createElement("input",{id:"title",type:"text",value:i.title,className:"update-todo-title",onChange:function(e){var t=e.target.value;t&&s(Object(E.a)(Object(E.a)({},i),{},{title:t}))}})),a.a.createElement("div",null,a.a.createElement("button",{className:" TodoList__user-button TodoList__user-button--update button ",type:"button",onClick:function(){d(function(e){return{type:"REMOVE_SELECTED_TODO",todo:e}}(i)),c((function(e){return e.map((function(e){return e.id===i.id?i:e}))})),n(0)}},"Save")))}),U=(n(38),Object(u.b)((function(e){return{todos:g(e.todosState)}}))((function(e){var t=e.todos,n=Object(r.useState)(t),c=Object(h.a)(n,2),o=c[0],l=c[1],i=Object(r.useState)(0),s=Object(h.a)(i,2),d=s[0],E=s[1];Object(r.useEffect)((function(){l(t)}),[t.length]);var m=Object(u.c)();return a.a.createElement(a.a.Fragment,null,a.a.createElement(L,{todosList:o,setTodosList:l}),a.a.createElement("div",{className:"TodoList"},a.a.createElement("h2",null,"Todos:"),a.a.createElement("div",{className:"TodoList__list-container"},a.a.createElement("ul",{className:"TodoList__list"},o.map((function(e){return a.a.createElement("li",{className:"TodoList__item TodoList__item--unchecked",key:e.id},d===e.id?a.a.createElement(R,{todo:e,setTodoId:E,setUpdateList:l}):a.a.createElement(a.a.Fragment,null,a.a.createElement("label",{htmlFor:"title"},a.a.createElement("input",{id:"title",type:"checkbox",checked:e.completed,readOnly:!0}),a.a.createElement("p",null,e.title)),a.a.createElement("div",null,a.a.createElement("button",{className:" TodoList__user-button TodoList__user-button--update button ",type:"button",onClick:function(){E(e.id)}},"Update"),a.a.createElement("button",{className:" TodoList__user-button TodoList__user-button--selected button ",type:"button",onClick:function(){return t=e.userId,void m(function(e){return{type:"SELECTED_USER",userId:e}}(t));var t}},"User#".concat(e.userId)))))}))))))}))),I="https://mate-api.herokuapp.com/",F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"todos";return fetch("".concat(I).concat(e))},k=(n(39),{getUserFromServer:function(e){return function(t){t({type:"FETCH_USER_PENDING"}),F("users/".concat(e)).then((function(e){return e.json()})).then((function(e){return t(function(e){return{type:"FETCH_USER_SUCCESS",user:e}}(e.data))})).catch((function(e){return t(function(e){return{type:"FETCH_USER_ERROR",error:e}}(e))}))}}}),A=Object(u.b)(null,k)((function(e){var t=e.getUserFromServer,n=Object(u.d)(T),c=Object(u.d)(j),o=Object(u.d)(C);return Object(r.useEffect)((function(){n&&t(n)}),[n,t]),c?a.a.createElement("p",null,c.toString()):a.a.createElement("div",{className:"CurrentUser"},a.a.createElement("h2",{className:"CurrentUser__title"},a.a.createElement("span",null,"Selected user: ".concat(n))),a.a.createElement("h3",{className:"CurrentUser__name"},null===o||void 0===o?void 0:o.name),a.a.createElement("p",{className:"CurrentUser__email"},null===o||void 0===o?void 0:o.email),a.a.createElement("p",{className:"CurrentUser__phone"},null===o||void 0===o?void 0:o.phone))})),H=(n(40),function(){return a.a.createElement("img",{alt:"Loader...",src:"https://media.giphy.com/media/y1ZBcOGOOtlpC/giphy.gif"})}),M={getTodos:function(){return function(e){e({type:"FETCH_TODOS_PENDING"}),F().then((function(e){return e.json()})).then((function(t){e(function(e){return{type:"FETCH_TODOS_SUCCESS",todos:e.filter((function(e){return e.title}))}}(t.data))})).catch((function(t){return e(function(e){return{type:"FETCH_TODOS_ERROR",error:e}}(t))}))}}},w=Object(u.b)(null,M)((function(e){var t=e.getTodos,n=Object(u.d)(p),c=Object(u.d)(S),o=Object(u.d)(b),l=Object(u.d)(T);return Object(r.useEffect)((function(){t()}),[t]),a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"App__sidebar"},n?a.a.createElement(H,null):a.a.createElement(U,null),o&&a.a.createElement("p",null,o.toString())),a.a.createElement("div",{className:"App__content"},a.a.createElement("div",{className:"App__content-container"},c&&l&&a.a.createElement(H,null),l?a.a.createElement(A,null):"No user selected")))})),P=function(){return a.a.createElement(u.a,{store:v},a.a.createElement(l.a,null,a.a.createElement(w,null)))};o.a.render(a.a.createElement(P,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.a158cd8d.chunk.js.map