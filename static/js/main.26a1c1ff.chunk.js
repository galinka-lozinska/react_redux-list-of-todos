(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{26:function(e,t,n){e.exports=n(42)},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(12),o=n.n(c),u=n(3),l=n(25),i=n(17),s=n(6),d=n(24),E=n(1),m={pending:!1,todos:[],error:null,selectedUserId:0,selectedTodoId:0};var O={pending:!1,user:{id:0,name:"",phone:"",email:""},error:null};var f={filteringType:"All_TODOS",query:""};var p=Object(s.combineReducers)({todosState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_TODOS_PENDING":return Object(E.a)(Object(E.a)({},e),{},{pending:!0});case"FETCH_TODOS_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{pending:!1,todos:t.todos});case"FETCH_TODOS_ERROR":return Object(E.a)(Object(E.a)({},e),{},{pending:!1,error:t.error});case"SELECTED_USER":return Object(E.a)(Object(E.a)({},e),{},{selectedUserId:t.userId});case"CLEAR_SELECTED_USER":return Object(E.a)(Object(E.a)({},e),{},{selectedUserId:0});case"REMOVE_SELECTED_TODO":return Object(E.a)(Object(E.a)({},e),{},{todos:e.todos.map((function(e){return e.id===t.todo.id?Object(E.a)({},t.todo):e}))});default:return e}},userState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER_PENDING":return Object(E.a)(Object(E.a)({},e),{},{pending:!0});case"FETCH_USER_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{pending:!1,user:t.user});case"FETCH_USER_ERROR":return Object(E.a)(Object(E.a)({},e),{},{pending:!1,error:t.error});default:return e}},navMenuState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"All_TODOS":case"ACTIVE_TODOS":case"COMPLETED_TODOS":return Object(E.a)(Object(E.a)({},e),{},{filteringType:t.type});case"FILTERING":return Object(E.a)(Object(E.a)({},e),{},{query:t.query});default:return e}}}),b=function(e){return function(e){return e.pending}(e.todosState)},_=function(e){return function(e){return e.error}(e.todosState)},T=function(e){return function(e){return e.selectedUserId}(e.todosState)},S=function(e){return function(e){return e.pending}(e.userState)},v=function(e){return function(e){return e.user}(e.userState)},C=function(e){return function(e){return e.error}(e.userState)},j=function(e){return function(e){return e.filteringType}(e.navMenuState)},h=Object(s.createStore)(p,Object(d.composeWithDevTools)(Object(s.applyMiddleware)(i.a))),g=(n(35),n(10)),y=n(11);function N(e,t){var n=t.query.toLowerCase(),r=Object(y.a)(e);switch(t.filteringType){case"ACTIVE_TODOS":r=e.filter((function(e){return!1===e.completed}));break;case"COMPLETED_TODOS":r=e.filter((function(e){return!0===e.completed}))}return t.query?r.filter((function(e){return e.title&&e.title.toLowerCase().includes(n)})):r}var D=n(15),L=n.n(D),R=(n(36),function(e){var t=e.todosList,n=e.setTodosList,c=Object(u.c)(),o=Object(u.d)(j),l=Object(r.useCallback)((function(){var e=Object(y.a)(t).sort((function(e,t){return e.title&&t.title?e.title.localeCompare(t.title):0}));n(e)}),[t,n]),i=Object(r.useCallback)((function(){for(var e=Object(y.a)(t),r=e.length-1;r>0;r-=1){var a=Math.floor(Math.random()*r),c=e[r];e[r]=e[a],e[a]=c}n(e)}),[t,n]);return a.a.createElement("div",{className:"nav-menu"},a.a.createElement("input",{type:"text",placeholder:"Tittle....",onChange:function(e){c({type:"FILTERING",query:e.target.value})}}),a.a.createElement("div",null,a.a.createElement("ul",{className:"filters"},a.a.createElement("li",null,a.a.createElement("a",{href:"#/all",className:L()({selected:"All_TODOS"===o}),onClick:function(){c({type:"All_TODOS"})}},"All")),a.a.createElement("li",null,a.a.createElement("a",{href:"#/active",className:L()({selected:"ACTIVE_TODOS"===o}),onClick:function(){c({type:"ACTIVE_TODOS"})}},"Active")),a.a.createElement("li",null,a.a.createElement("a",{href:"#/completed",className:L()({selected:"COMPLETED_TODOS"===o}),onClick:function(){c({type:"COMPLETED_TODOS"})}},"Completed"))),a.a.createElement("button",{type:"button",className:"clear-completed",onClick:function(){return c({type:"CLEAR_SELECTED_USER"})}},"Clear selected"),a.a.createElement("button",{type:"button",className:"randomize",onClick:function(){i()}},"Randomize"),a.a.createElement("button",{type:"button",className:"sort",onClick:function(){return l()}},"Sort")))}),U=(n(37),function(e){var t=e.todo,n=e.setTodoId,c=e.setUpdateList,o=Object(r.useState)(t),l=Object(g.a)(o,2),i=l[0],s=l[1],d=Object(u.c)();return a.a.createElement(a.a.Fragment,null,a.a.createElement("label",{htmlFor:"title"},a.a.createElement("input",{id:"title",type:"text",value:i.title,className:"remove-todo-title",onChange:function(e){e.target.value&&s(Object(E.a)(Object(E.a)({},i),{},{title:e.target.value}))}})),a.a.createElement("div",null,a.a.createElement("button",{className:" TodoList__user-button TodoList__user-button--remove button ",type:"button",onClick:function(){d(function(e){return{type:"REMOVE_SELECTED_TODO",todo:e}}(i)),c((function(e){return e.map((function(e){return e.id===i.id?i:e}))})),n(0)}},"Save")))}),I=(n(38),Object(u.b)((function(e){return{todos:N(e.todosState.todos,e.navMenuState)}}))((function(e){var t=e.todos,n=Object(r.useState)(t),c=Object(g.a)(n,2),o=c[0],l=c[1],i=Object(r.useState)(0),s=Object(g.a)(i,2),d=s[0],E=s[1];Object(r.useEffect)((function(){l(t)}),[t.length]);var m=Object(u.c)();return a.a.createElement(a.a.Fragment,null,a.a.createElement(R,{todosList:o,setTodosList:l}),a.a.createElement("div",{className:"TodoList"},a.a.createElement("h2",null,"Todos:"),a.a.createElement("div",{className:"TodoList__list-container"},a.a.createElement("ul",{className:"TodoList__list"},o.map((function(e){return a.a.createElement("li",{className:"TodoList__item TodoList__item--unchecked",key:e.id},d===e.id?a.a.createElement(U,{todo:e,setTodoId:E,setUpdateList:l}):a.a.createElement(a.a.Fragment,null,a.a.createElement("label",{htmlFor:"title"},a.a.createElement("input",{id:"title",type:"checkbox",checked:e.completed,readOnly:!0}),a.a.createElement("p",null,e.title)),a.a.createElement("div",null,a.a.createElement("button",{className:" TodoList__user-button TodoList__user-button--remove button ",type:"button",onClick:function(){E(e.id)}},"Remove"),a.a.createElement("button",{className:" TodoList__user-button TodoList__user-button--selected button ",type:"button",onClick:function(){return t=e.userId,void m(function(e){return{type:"SELECTED_USER",userId:e}}(t));var t}},"User#".concat(e.userId)))))}))))))}))),F="https://mate-api.herokuapp.com/",k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"todos";return fetch("".concat(F).concat(e))},A=(n(39),{getUserFromServer:function(e){return function(t){t({type:"FETCH_USER_PENDING"}),k("users/".concat(e)).then((function(e){return e.json()})).then((function(e){return t(function(e){return{type:"FETCH_USER_SUCCESS",user:e}}(e.data))})).catch((function(e){return t(function(e){return{type:"FETCH_USER_ERROR",error:e}}(e))}))}}}),H=Object(u.b)((function(e){return{userId:T(e),pending:S(e),error:C(e),user:v(e)}}),A)((function(e){var t=e.userId,n=e.error,c=e.user,o=e.getUserFromServer;return Object(r.useEffect)((function(){0!==t&&o(t)}),[t,o]),n?a.a.createElement("p",null,n.toString()):a.a.createElement("div",{className:"CurrentUser"},a.a.createElement("h2",{className:"CurrentUser__title"},a.a.createElement("span",null,"Selected user: ".concat(t))),a.a.createElement("h3",{className:"CurrentUser__name"},null===c||void 0===c?void 0:c.name),a.a.createElement("p",{className:"CurrentUser__email"},null===c||void 0===c?void 0:c.email),a.a.createElement("p",{className:"CurrentUser__phone"},null===c||void 0===c?void 0:c.phone))})),M=(n(40),function(){return a.a.createElement("img",{alt:"Loader...",src:"https://media.giphy.com/media/y1ZBcOGOOtlpC/giphy.gif"})}),w={getTodos:function(){return function(e){e({type:"FETCH_TODOS_PENDING"}),k().then((function(e){return e.json()})).then((function(t){e(function(e){return{type:"FETCH_TODOS_SUCCESS",todos:e}}(t.data))})).catch((function(t){return e(function(e){return{type:"FETCH_TODOS_ERROR",error:e}}(t))}))}}},P=Object(u.b)((function(e){return{pendingTodos:b(e),error:_(e),userId:T(e),pendingUser:S(e)}}),w)((function(e){var t=e.pendingTodos,n=e.error,c=e.userId,o=e.pendingUser,u=e.getTodos;return Object(r.useEffect)((function(){u()}),[u]),a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"App__sidebar"},t?a.a.createElement(M,null):a.a.createElement(I,null),n&&a.a.createElement("p",null,n.toString())),a.a.createElement("div",{className:"App__content"},a.a.createElement("div",{className:"App__content-container"},o&&c&&a.a.createElement(M,null),c?a.a.createElement(H,null):"No user selected")))})),G=function(){return a.a.createElement(u.a,{store:h},a.a.createElement(l.a,null,a.a.createElement(P,null)))};o.a.render(a.a.createElement(G,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.26a1c1ff.chunk.js.map